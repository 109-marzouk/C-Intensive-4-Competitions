#include <iostream>
using namespace std;

const int r = 3, c = 4;
int get2ndMax2D(int arr[r][c]){

  int fMax = arr[0][0], sMax = arr[0][1];
  if(sMax > fMax) swap(fMax, sMax);

  for(int x = 0; x < r; x++){
    for(int y = 0; y < c; y++){
      if(x == 0 && (y == 0 || y == 1)) continue;
      if(arr[x][y] > sMax && arr[x][y] < fMax) sMax = arr[x][y];
      else if(arr[x][y] > fMax) fMax = arr[x][y];
    }
  }
  return sMax;
}


int main() {
  const int X = 3, Y = 2, Z = 3, V = 2;

  int x = 2, y = 0, z = 1;  // for 14
  int v = 1; // for 100 -> 4D

  // from 3D to 1D
  /*--------------------------------------*/
  /**/  int t = x * Y * Z + y * Z + z; /**/
  /*------------------------------------*/

  // from 4D to 1D
  /*-------------------------------------------------------*/
  /**/  int t2 = x * Y * Z * V + y * Y * Z + z * V + v; /**/
  /*-----------------------------------------------------*/


  int arr1[X][Y][Z] = {
    {
      {1, 2, 3},
      {4, 5, 6}
    },
    {
      {7, 8, 9},
      {10, 11, 12}
    },
    {
      {13, 14, 15},
      {16, 17, 18}
    }
  };

  int arr2[X * Y * Z] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10,
  11, 12, 13, 14, 15, 16, 17, 18};

  cout << "3D to 1D >> ";
  cout << arr1[x][y][z] << " || " << arr2[t] <<endl;

  // ===================================================

  int arr3[X][Y][Z][V] = {
    {
      {{1}, {2}, {3}},
      {{4}, {5}, {6}}
    },
    {
      {{7}, {8}, {9}},
      {{10}, {11}, {12}}
    },
    {
      {{13}, {14, 100}, {15}},
      {{16}, {17}, {18}}
    }
  };

  int arr4[X * Y * Z * V] = {1, 0, 2, 0, 3, 0, 4, 0,
   5, 0, 6, 0, 7, 0, 8, 0, 9, 0, 10, 0,
  11, 0, 12, 0, 13, 0, 14, 100, 15, 0, 16, 0, 17, 0, 18, 0};

  cout << "4D to 1D >> ";
  cout << arr3[x][y][z][v] << " || " << arr4[t2] <<endl;

  // ======================================================

  int arr5[r][c] = {
    {16, 20, 20, 40},
    {1, 24, 30, 10},
    {14, 20, 65, 63}
  };

  cout << "The 2nd max >> ";
  cout << get2ndMax2D(arr5) << endl;
}
